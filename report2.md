---
title: "Лабораторная работа №2"
author: "Кувшинова К.О. группа НФИ-02-19"
subtitle: "Дискреционное разграничение прав в Linux. Основные атрибуты"
output:
  word_document: default
  pdf_document: default
toc-title: Содержание
toc: yes
toc_depth: 2
lof: yes
fontsize: 12pt
linestretch: 1.5
papersize: a4paper
documentclass: scrreprt
polyglossia-lang: russian
polyglossia-otherlangs: english
mainfont: PT Serif
romanfont: PT Serif
sansfont: PT Sans
monofont: PT Mono
mainfontoptions: Ligatures=TeX
romanfontoptions: Ligatures=TeX
sansfontoptions: Ligatures=TeX,Scale=MatchLowercase
monofontoptions: Scale=MatchLowercase
indent: yes
pdf-engine: lualatex
header-includes:
- \linepenalty=10
- \interlinepenalty=0
- \hyphenpenalty=50
- \exhyphenpenalty=50
- \binoppenalty=700
- \relpenalty=500
- \clubpenalty=150
- \widowpenalty=150
- \displaywidowpenalty=50
- \brokenpenalty=100
- \predisplaypenalty=10000
- \postdisplaypenalty=0
- \floatingpenalty = 20000
- \raggedbottom
- \usepackage{float}
- \floatplacement{figure}{H}
---


# Цель работы

Целью данной работы является приобретение практических навыков работы в консоли с атрибутами файлов, закрепление теоретических основ дискреционного разграничения доступа в современных системах с открытым кодом на базе ОС Linux.

# Выполнение лабораторной работы

1. В установленной при выполнении предыдущей лабораторной работы операционной системе создаем учётную запись пользователя guest (используя учётную запись администратора) с помощью команды **useradd guest**
2. Задали пароль для пользователя guest (используя учётную запись администратора) с помощью команды **passwd guest**
3. Вошли в систему от имени пользователя guest.
4. Определили директорию, в которой мы находимся, командой **pwd**. Сравниваем её с приглашением командной строки. Мы находимся в директории */home/guest*. В командной строке это выглядит как знак тильды *~*.
Она не является нашей домашней директорией, поэтому с помощью команды **cd ..** переходим в домашнюю директорию. (@fig:001)

![Переход в домашную директорию](1.1.PNG){#fig:001 width=100%}

5. Уточняем имя нашего пользователя командой **whoami**. (@fig:002)

![Вывод имени пользователя](1.2.png){#fig:002 width=100%}

6. Командой **id** выяснили, что имя вашего пользователя - guest, его группа - 1002 , а также группы, куда входит пользователь - 1002,  Команда **groups** вывела только информацию об имени пользователя. (@fig:003)

![Вывод данных о пользователе](1.3.png){#fig:003 width=100%}
   
7. Сравнивая полученную информацию об имени пользователя с данными, выводимыми в приглашении командной строки, можем сказать, что в приглашении первым указывается текущий пользователь, потом после знака @ указывается админитратор и далее текущая директория.
   
8. Просмотрим файл /etc/passwd командой **cat /etc/passwd | grep guest**. Определяем, что uid пользователя - 1002, gid пользователя - 1002. Имеем те же самые значения, что и при выводе команды **id**. (@fig:004)

![Вывод команды cat /etc/passwd | grep guest](2.png){#fig:004 width=100%}
 
1. Определим существующие в системе директории командой **ls -l /home/**. Нам удалось получить список поддиректорий директории /home. На каждой директории установлены права drwx------, то есть возможно чтение, запись и выполнение только от текущего пользователя. (@fig:005)

![Вывод команды ls -l /home/](8.png){#fig:005 width=100%}

10. Командой **lsattr /home** смотрим расширенные атрибуты установленые на поддиректориях, находящихся в директории /home. Видим расширенные атрибуты только текущего пользователя, для просмотра об остальных пользователях нам отказано в доступе. (@fig:006)

![Вывод расширенных атрибутов поддиректорий home/](10.png){#fig:006 width=100%} 

11.  Создаем в домашней директории поддиректорию dir1 командой **mkdir dir1** . Командами **ls -l** и **lsattr** определяем, что права доступа на созданную директорию *drwxrwxr-x*, что означает чтение, запись и исполнение для пользователя и группы и чтение и исполнение для других. Расширенные атрибуты не были выставлены на директорию dir1. (@fig:007)

![Права доступа и расширенные атрибуты директории dir1](11.png){#fig:007 width=100%} 

12.   Сняли с директории dir1 все атрибуты командой **chmod 000 dir1** и проверили правильность выполнения командой **ls -l**. Действительно, все права доступа были сняты. (@fig:008)

![ Снятие прав доступа с директории dir1](12.png){#fig:008 width=100%} 
 
13.  Попытались создать в директории dir1 файл file1 командой **echo "test" > /home/guest/dir1/file1**, но получили отказ в выполнении операции по созданию файла, так как у нас недостаточно прав для выполнения данной команды. В результате папка осталась пустой. (@fig:009)

![ Директория dir1](13.PNG){#fig:009 width=100%} 

Проверяем командой **ls -l /home/guest/dir1** действительно ли файл file1 не находится внутри директории dir1, но получаем отказ в доступе, так как у нас недостаточно прав. (@fig:010)

![ Создание файла в папке dir1](13.2.PNG){#fig:010 width=100%} 


14.  Заполним таблицу «Установленные права и разрешённые действия», выполняя действия от имени владельца директории (файлов), определив опытным путём, какие операции разрешены, а какие нет.

Для создания файла использовали команду **echo "test" > /home/guest/dir1/file1**

Для удаления файла использовали команду **rm /home/guest/dir1/file1**

Для записи в файл использовали команду **echo "text" > file**

Для чтения файла использовали команду  **cat file**

Для смены директории использовали команду **cd dir**

Для просмотра файлов в директории использовали команду **ls -l**

Для переименования файла использовали команду **mv file1 file2**

Для смены атрибутов файла использовали команду **chmod (000 or another) file**

|Права дирректории |Права файла | Создание файла | Удаление файла | Запись в файл | Чтение файла | Смена дирректории | Просмотр файлов в директории | Переименование файла | Смена атрибутов файла |
| ---------------- | ---------- | -------------- | -------------- | ------------- | ------------ | ----------------- | ---------------------------- | -------------------- | --------------------- |
| d(000)           | (000)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(000)           | (100)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(000)           | (200)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(000)           | (300)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(000)           | (400)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(000)           | (500)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(000)           | (600)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(000)           | (700)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(100)           | (000)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(100)           | (100)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(100)           | (200)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(100)           | (300)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(100)           | (400)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(100)           | (500)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(100)           | (600)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(100)           | (700)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(200)           | (000)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(200)           | (100)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(200)           | (200)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(200)           | (300)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(200)           | (400)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(200)           | (500)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(200)           | (600)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(200)           | (700)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(300)           | (000)      | +              |  +             | -             |  -           |  +                |  -                           |  +                   | +                     |
| d(300)           | (100)      | +              |  +             | -             |  -           |  +                |  -                           |  +                   | +                     |
| d(300)           | (200)      | +              |  +             | +             |  -           |  +                |  -                           |  +                   | +                     |
| d(300)           | (300)      | +              |  +             | +             |  -           |  +                |  -                           |  +                   | +                     |
| d(300)           | (400)      | +              |  +             | -             |  +           |  +                |  -                           |  +                   | +                     |
| d(300)           | (500)      | +              |  +             | -             |  +           |  +                |  -                           |  +                   | +                     |
| d(300)           | (600)      | +              |  +             | +             |  +           |  +                |  -                           |  +                   | +                     |
| d(300)           | (700)      | +              |  +             | +             |  +           |  +                |  -                           |  +                   | +                     |
| d(400)           | (000)      | -              |  -             | -             |  -           |  -                |  +                           |  -                   | -                     |
| d(400)           | (100)      | -              |  -             | -             |  -           |  -                |  +                           |  -                   | -                     |
| d(400)           | (200)      | -              |  -             | -             |  -           |  -                |  +                           |  -                   | -                     |
| d(400)           | (300)      | -              |  -             | -             |  -           |  -                |  +                           |  -                   | -                     |
| d(400)           | (400)      | -              |  -             | -             |  -           |  -                |  +                           |  -                   | -                     |
| d(400)           | (500)      | -              |  -             | -             |  -           |  -                |  +                           |  -                   | -                     |
| d(400)           | (600)      | -              |  -             | -             |  -           |  -                |  +                           |  -                   | -                     |
| d(400)           | (700)      | -              |  -             | -             |  -           |  -                |  +                           |  -                   | -                     |
| d(500)           | (000)      | -              |  -             | -             |  -           |  +                |  +                           |  -                   | +                     |
| d(500)           | (100)      | -              |  -             | -             |  -           |  +                |  +                           |  -                   | +                     |
| d(500)           | (200)      | -              |  -             | +             |  -           |  +                |  +                           |  -                   | +                     |
| d(500)           | (300)      | -              |  -             | +             |  -           |  +                |  +                           |  -                   | +                     |
| d(500)           | (400)      | -              |  -             | -             |  +           |  +                |  +                           |  -                   | +                     |
| d(500)           | (500)      | -              |  -             | -             |  +           |  +                |  +                           |  -                   | +                     |
| d(500)           | (600)      | -              |  -             | +             |  +           |  +                |  +                           |  -                   | +                     |
| d(500)           | (700)      | -              |  -             | +             |  +           |  +                |  +                           |  -                   | +                     |
| d(600)           | (000)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(600)           | (100)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(600)           | (200)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(600)           | (300)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(600)           | (400)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(600)           | (500)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(600)           | (600)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(600)           | (700)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(700)           | (000)      | +              |  +             | -             |  -           |  +                |  +                           |  +                   | +                     |
| d(700)           | (100)      | +              |  +             | -             |  -           |  +                |  +                           |  +                   | +                     |
| d(700)           | (200)      | +              |  +             | +             |  -           |  +                |  +                           |  +                   | +                     |
| d(700)           | (300)      | +              |  +             | +             |  -           |  +                |  +                           |  +                   | +                     |
| d(700)           | (400)      | +              |  +             | -             |  +           |  +                |  +                           |  +                   | +                     |
| d(700)           | (500)      | +              |  +             | -             |  +           |  +                |  +                           |  +                   | +                     |
| d(700)           | (600)      | +              |  +             | +             |  +           |  +                |  +                           |  +                   | +                     |
| d(700)           | (700)      | +              |  +             | +             |  +           |  +                |  +                           |  +                   | +                     |



15.  На основании заполненной таблицы определили минимально необходимые права для выполнения операций внутри директории dir1, заполнили табл. 2.2.

| Операции               |Минимальные права на директорию | Минимальные права на файл|
| ---------------        | ------------------------------ | ------------------------ | 
| Создание файла         |   d(300)                       |    (000)                 |
| Удаление файла         |   d(300)                       |    (000)                 | 
| Четние файла           |   d(300)                       |    (400)                 | 
| Запись в файл          |   d(300)                       |    (200)                 | 
| Переименование файла   |   d(300)                       |    (000)                 | 
| Создание поддиректории |   d(300)                       |    (000)                 | 
|Удаление поддиректории  |   d(300)                       |    (000)                 | 


# Вывод

В ходе выполнения работы мы приобрели практические навыки работы в консоли с атрибутами файлов, закрепление теоретических основ дискреционного разграничения доступа в современных системах с открытым кодом на базе ОС Linux.


# Библиография

1. Кулябов Д. С., Королькова А. В., Геворкян М. Н. Дискреционное разграничение прав в Linux. Основные атрибуты [Текст] / Кулябов Д. С., Королькова А. В., Геворкян М. Н. - Москва: - 5 с. [^1]: Дискреционное разграничение прав в Linux. Основные атрибуты.
2. Справочник 70 основных команд Linux: полное описание с примерами (https://eternalhost.net/blog/sozdanie-saytov/osnovnye-komandy-linux)